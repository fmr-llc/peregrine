<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<bean id="sql" class="com.alliancefoundry.dao.JdbcTemplateDao.SqlQuery">
    	<property name="singleEventById" value="SELECT * FROM event_store WHERE eventId = ? LIMIT 1" />
    	<property name="multipleEventsById" value="SELECT * FROM event_store WHERE TRUE" />
    	<property name="header" value="SELECT name,value FROM event_headers WHERE eventId = ?" />
    	<property name="payload" value="SELECT name,value,dataType FROM event_payload WHERE eventId = ?" />
    	<property name="auditById" value="SELECT * FROM publication_audit WHERE eventId = ? LIMIT 1" />
    	<property name="publishTimestampsById" value="SELECT publishTimestamp FROM publish_timestamp WHERE eventId = ?" />
    	<property name="updatePublishCount" value="UPDATE publication_audit SET publishCount = publishCount + 1 WHERE eventId = ?" />
    	<property name="insertSingleEvent" value="INSERT INTO event_store VALUES ( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? )" />
    	<property name="insertHeader" value="INSERT INTO event_headers VALUES ( ?,?,? )" />
    	<property name="insertPayload" value="INSERT INTO event_payload VALUES ( ?,?,?,? )" />
    	<property name="insertAudit" value="INSERT INTO publication_audit VALUES ( ?,?,?,? )" />
    	<property name="insertPublishTimestamp" value="INSERT INTO publish_timestamp VALUES ( ?,?,? )" />
    	<property name="reqCreatedAfter" value=" AND timestamp > ?" />
    	<property name="reqCreatedBefore" value=" AND timestamp &lt; ?" />
    	<property name="reqSource" value=" AND source = ?" />
    	<property name="reqObjectId" value=" AND objectId = ?" />
    	<property name="reqCorrelationId" value=" AND correlationId = ?" />
    	<property name="reqEventName" value=" AND eventName = ?" />
    	<property name="orderMultiple" value=" ORDER BY timestamp" />
    	<property name="latestEvent" value=" ORDER BY timestamp DESC LIMIT 1" />
	</bean>
	
</beans>